{"version":3,"sources":["../src/index.js"],"names":["app","server","http","createServer","io","get","req","res","send","sendFile","path","join","__dirname","on","socket","m","console","log","id","max","outlet","message","data","route","args","addHandler","msg","emit","type","c","time","Date","listen"],"mappings":";;AAAA;;AACA;;AACA;;AACA;;AACA;;;;AAEA,IAAMA,GAAG,GAAG,0BAAZ;;AACA,IAAMC,MAAM,GAAGC,iBAAKC,YAAL,CAAkBH,GAAlB,CAAf;;AACA,IAAMI,EAAE,GAAG,wBAAOH,MAAP,CAAX;AACAD,GAAG,CAACK,GAAJ,CAAQ,GAAR,EAAa,UAASC,GAAT,EAAcC,GAAd,EAAmB;AAC5BA,EAAAA,GAAG,CAACC,IAAJ,CAAS,aAAT;AACH,CAFD;AAIAR,GAAG,CAACK,GAAJ,CAAQ,SAAR,EAAmB,UAASC,GAAT,EAAcC,GAAd,EAAmB;AAClCA,EAAAA,GAAG,CAACE,QAAJ,CAAaC,iBAAKC,IAAL,CAAUC,SAAS,GAAG,qBAAtB,CAAb;AACH,CAFD;AAIAR,EAAE,CAACS,EAAH,CAAM,YAAN,EAAoB,UAAAC,MAAM,EAAI;AAC1BA,EAAAA,MAAM,CAACD,EAAP,CAAU,SAAV,EAAqB,UAAAE,CAAC,EAAI;AACtBC,IAAAA,OAAO,CAACC,GAAR,CAAYH,MAAM,CAACI,EAAnB;AACAF,IAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;;AACAI,uBAAIC,MAAJ,CAAW;AAAEC,MAAAA,OAAO,EAAEN,CAAC,CAACO,IAAF,CAAOD,OAAlB;AAA2BE,MAAAA,KAAK,EAAER,CAAC,CAACO,IAAF,CAAOC,KAAzC;AAAgDC,MAAAA,IAAI,EAAET,CAAC,CAACO,IAAF,CAAOE;AAA7D,KAAX;AACH,GAJD;;AAMAL,qBAAIM,UAAJ,CAAe,MAAf,EAAuB,UAAAC,GAAG,EAAI;AAC1BV,IAAAA,OAAO,CAACC,GAAR,CAAY,GAAZ,EAAiBS,GAAjB;AACAZ,IAAAA,MAAM,CAACa,IAAP,CAAY,SAAZ,EAAuB;AACnBC,MAAAA,IAAI,EAAE,WADa;AAEnBN,MAAAA,IAAI,EAAE;AACFO,QAAAA,CAAC,EAAEH;AADD,OAFa;AAKnBI,MAAAA,IAAI,EAAE,IAAIC,IAAJ;AALa,KAAvB;AAOH,GATD;AAUH,CAjBD,E,CAkBA;;AACAZ,mBAAIM,UAAJ,CAAe,MAAf,EAAuB,UAAAC,GAAG,EAAI;AAC1BP,qBAAIC,MAAJ,CAAWM,GAAX;AACH,CAFD;;AAIAzB,MAAM,CAAC+B,MAAP,CAAc,IAAd;AAEAhB,OAAO,CAACC,GAAR,CAAY,+BAAZ","sourcesContent":["import express from 'express';\nimport socket from 'socket.io';\nimport http from 'http';\nimport path from 'path';\nimport max from 'max-api';\n\nconst app = express();\nconst server = http.createServer(app);\nconst io = socket(server);\napp.get('/', function(req, res) {\n    res.send('Hello World');\n});\n\napp.get('/wstest', function(req, res) {\n    res.sendFile(path.join(__dirname + '/static/wstest.html'));\n});\n\nio.on('connection', socket => {\n    socket.on('message', m => {\n        console.log(socket.id);\n        console.log(m);\n        max.outlet({ message: m.data.message, route: m.data.route, args: m.data.args });\n    });\n\n    max.addHandler('tick', msg => {\n        console.log('1', msg);\n        socket.emit('message', {\n            type: 'ITER_TEST',\n            data: {\n                c: msg,\n            },\n            time: new Date(),\n        });\n    });\n});\n// Use the 'outlet' function to send messages out of node.script's outlet\nmax.addHandler('echo', msg => {\n    max.outlet(msg);\n});\n\nserver.listen(3000);\n\nconsole.log('Server Listening on Port 3000');\n"],"file":"index.js"}